#!/usr/bin/env ruby

export DOTFILES="${HOME}/.dotfiles"

# load fzf
if [[ -n $(command -v fzf) ]]; then
    eval "$(fzf --zsh)"
fi

# load zoxide
eval "$(zoxide init --cmd cd zsh)"

# load carapace
# ~/.zshrc
export CARAPACE_BRIDGES='zsh,fish,bash,inshellisense' # optional
zstyle ':completion:*' format $'\e[2;37mCompleting %d\e[m'
# shellcheck source=/dev/null
source <(carapace _carapace)

# initialize oh-my-posh prompt
# if [[ -n $(command -v oh-my-posh) ]]; then
#     # if [ "$TERM_PROGRAM" != "Apple_Terminal" ]; then
#     eval "$(oh-my-posh init zsh --config "${HOME}"/.config/oh-my-posh/theme/config.json)"
#     # eval "$(oh-my-posh init zsh)"
#     # fi
# fi

# load starship
[[ -n $(command -v starship) ]] && eval "$(starship init zsh)"

# start zellij
export ZELLIJ_AUTO_ATTACH=false
export ZELLIJ_AUTO_EXIT=true
export LAYOUT=${HOME}/.config/zellij/layouts/default.kdl
# [[ -n $(command -v zellij) ]] && eval "$(zellij setup --generate-auto-start zsh)"

# bun completions
[ -s "/Users/narender/.bun/_bun" ] && source "/Users/narender/.bun/_bun"

# bun
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"
